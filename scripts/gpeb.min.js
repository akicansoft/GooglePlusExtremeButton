function Logger(e){this.init(e)}function Models(e){this.init(e)}var APPNAME="Google+ Extreme Button",VERSION="3.0";Logger.prototype={init:function(e){this.appName=e},logs:[],rotateLimit:100,setRotate:function(e){this.rotateLimit=e},add:function(){if(this.logs.length>this.rotateLimit)for(var e=this.logs.length-this.rotateLimit,t=0;e>=t;t++)this.logs.shift();for(var t=0;arguments.length>t;t++)this.logs.push(arguments);this.print(arguments)},clear:function(){this.logs=[]},show:function(){for(var e=0;this.logs.length>e;e++)this.print.call(this,this.logs[e])},print:function(e){for(var t=[],i=new Date,s=i.getHours()+":"+i.getMinutes()+"."+i.getMilliseconds(),o=0;e.length>o;o++)t.push(e[o]);console.log("[%c"+this.appName+"%c]"+t.join(", ")+" %c("+s+")","color:blue;","color:black;","color:#bbbbbb;")}},Models.prototype={init:function(e){this.models=[],this.keys={},this.ids={},this.idCount=1,this.events={},this.add(e)},cloneRecursiveStackAdd:function(e,t,i){e&&e.constructor===Array?e.push(i):e[t]=i},cloneRecursive:function(e){var t=e.value,i=e.stack,s=e.key,o=e.nest,n=typeof t;if("number"==n)this.cloneRecursiveStackAdd(i,s,t);else if("string"==n)this.cloneRecursiveStackAdd(i,s,t);else if(t&&t.constructor===Array){if(void 0===i)i=[];else{var r=[];this.cloneRecursiveStackAdd(i,s,r);var l=r}for(var c=0;t.length>c;c++)t[c]!==t&&(o++,this.cloneRecursive({key:c,value:t[c],stack:i,nest:o}),o--)}else if(t===window)this.cloneRecursiveStackAdd(i,s,t);else if(t===document)this.cloneRecursiveStackAdd(i,s,t);else if("tagName"in t)this.cloneRecursiveStackAdd(i,s,t);else if("object"==n){if(void 0===i){i={};var l=i}else{var r={};this.cloneRecursiveStackAdd(i,s,r);var l=r}for(var c in t)t[c]!==t&&(o++,this.cloneRecursive({key:c,value:e.value[c],stack:l,nest:o}),o--)}else"function"==n?this.cloneRecursiveStackAdd(i,s,t):"boolean"==n?this.cloneRecursiveStackAdd(i,s,t):"undefined"==n&&this.cloneRecursiveStackAdd(i,s,t);return i},clone:function(){var e=[];console.log("無限ループ");for(var t=0;this.models.length>t;t++){var i=void 0,s=0;console.log("this.models[i]",this.models[t]),e.push(this.cloneRecursive({key:t,value:this.models[t],stack:i,nest:s}))}return new Models(e)},add:function(e){if(e&&e.constructor===Array)for(var t=0;e.length>t;t++){"id"in e[t]?this.idCount=Math.max(this.idCount,e[t].id)+1:e[t].id=this.idCount++,this.ids[e[t].id]=e[t],this.events[e[t].id]=[],this.models.push(e[t]),"key"in e[t]&&(this.keys[e[t].key]=e[t]);for(var i={target:e[t],model:e[t],type:"add",key:e[t].key,id:e[t].id},s=0;this.events[e[t].id].length>s;s++)this.events[e[t].id][s].call(e[t],i)}else{if("object"!=typeof e)return!1;"id"in e?this.idCount=Math.max(this.idCount,e.id)+1:e.id=this.idCount++,this.ids[e.id]=e,this.events[e.id]=[],this.models.push(e),"key"in e&&(this.keys[e.key]=e)}},get:function(){for(var e=!1,t=arguments,i=[],s=0;t.length>s;s++)"number"==typeof t[s]?i.push(this.ids[t[s]]):"string"==typeof t[s]?i.push(this.keys[t[s]]):t[s]&&t[s].constructor!==Array&&"object"==typeof t[s]&&"where"in t[s]&&(e=!0);return(e||1==i.length)&&(i=i[0]),i},clear:function(e){e.key&&delete this.keys[e.key];var t=e.id,i=e.key;if(delete this.ids[e.id],this.models.splice(e,1),e=void 0,this.events[t]){for(var s={id:t,key:i,type:"remove"},o=0;this.events[t].length>o;o++)this.events[t][o].call(e,s);delete this.events[t]}},remove:function(){for(var e=arguments,t=0;e.length>t;t++)"number"==typeof e[t]?this.clear(this.get(e[t])):"string"==typeof e[t]?this.clear(this.get(e[t])):e[t]&&e[t].constructor!==Array&&"object"==typeof e[t]&&"where"in e[t]},set:function(e,t){var i=this.get(e),s=i.id;console.log("書き換え前 model",i);var o={};for(var n in t)i[n]!=t[n]&&(i[n]=t[n],o[n]=i[n]);console.log("書き換え後 model",i);for(var r={changedModels:o,target:i,model:i,type:"change",key:i.key,id:i.id},n=0;this.events[s].length>n;n++)this.events[s][n].call(i,r)},on:function(e,t){var i=this.get(e),s=i.id;this.events[s].push(t)}},console.log("読み込まれています",location.href),console.log("testajijjjj");